<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Rental</title>
</head>

<body>
    <h1>Add Rental</h1>
    <form action="/api/addRental" method="POST"> 

        <label for="vehicleid">Vehicle ID:</label> 
        <select id="vehicleid_dropdown" name="vehicleid">
            <option value="">Select Vehicle</option>
        </select><br><br> 
        
        <label for="customerid">Customer ID:</label> 
        <input type="text" id="customerid" name="customerid" required><br><br> 
        
        <label for="startdate">Start Date:</label> 
        <input type="text" id="startdate" name="startdate" required><br><br>  
        
        <label for="enddate">End Date:</label> 
        <input type="text" id="enddate" name="enddate" required><br><br> 

        <label for="actualenddate">Actual End Date:</label> 
        <input type="text" id="actualenddate" name="actualenddate"><br><br>

        <label for="dailyrate">Daily Rate:</label> 
        <input type="text" id="dailyrate" name="dailyrate" required><br><br> 

        <label for="totalcost">Total Cost:</label> 
        <input type="text" id="totalcost" name="totalcost" required><br><br> 
        
        <input type="submit" value="Submit"> </form>

        <script>
        
        // Function to fetch and display entries
        fetch('/api/get_vehicles')
            .then(response => response.json())
            .then(data => {
                const dropdown = document.querySelector('#vehicleid_dropdown option');
                dropdown.innerHTML = ''; // Clear previous entries
                data.rows.forEach(entry => {
                const newOption = document.createElement('option');
                newOption.value = entry.vehicleid;
                newOption.textContent = `${entry.licenseplate} - ${entry.make}`;
                dropdown.appendChild(newOption);

            });
        });

        </script>
</body>

</html>
